# Zifra Stitcher

## Описание
Инструмент склеивает последовательность снимков сварного шва в одно изображение.

## Используемые алгоритмы
- **Поиск полосы шва**: полоса шва ищется по горизонтальным линиям (Canny + Hough). Если устойчивых горизонтальных линий мало — используется профиль вертикального градиента.
- **Оценка сдвига**: для каждой соседней пары считается сдвиг по ORB‑ключевым точкам отдельно в зоне шва и в фоне. Оценка трансляции делается через `estimateAffinePartial2D` (RANSAC), итоговый сдвиг — медиана по inlier‑парам. Если совпадений нет, используется фазовая корреляция.
- **Композиция**: изображения размещаются на общем холсте по накопленным сдвигам. Перекрытие режется вертикально по занятым столбцам, затем блюрятся швы по 10 пикселей с каждой стороны от шва 

## Использование
Сборка:
```bash
make build
```

Склейка:
```bash
make run
# или
./build/zifra
```

Исключить кадры (список через запятую):
```bash
./build/zifra --exclude 3,4
```

Результаты:
- Склейка: `output/stitched_all.jpg`


## Важные нюансы
Фотографии 3 и 4 не имеют общих точек с другими фотографиями, поэтому моя программа обрабатывает их некорректно
в файле output/stitched_without34.jpg видно что без них все склеивается почти ровно

Также была проблема с порядком, 0-3 фотографии должны быть в другом месте, так как иначе нарушается условие про наложение подряд идущих фотографий, итоговые результаты сделаны с исправленным порядком
